head(et)
########### EltonTraits 1.0  - mammals ####################
## read in Amniote trait database
et <- read.csv("MamFuncDat.csv")
# nrow = 5400
colnames(et)[3] <- "binomial"
# set column Scientific to binomial to match species tables
et <- arrange(et, binomial)
## 12 All mammals for presence = extant; origin = native, reintroduced ##
Elton12 <- anti_join(et, am12u, by = "binomial")
# Species listed by Elton but not listed by IUCN
# nrow = 599
IUCN12E <- anti_join(am12u, et, by = "binomial")
# IUCN species not listed in Elton
# nrow = 432
et12 <- et[!(et$binomial %in% c(as.vector(Elton12$binomial))),]
# removed species listed by Elton but not listed by IUCN
# nrow = 4801
# create empty dataframe to match trait database columns
IUCN_empty12E <- data.frame(matrix(NA, nrow = nrow(IUCN12E), ncol = ncol(Elton12)))
colnames(IUCN_empty12E) <- colnames(Elton12)
IUCN_empty12E$binomial <- IUCN12E$binomial
# combine trait database with empty values for species listed by the IUCN but not listed by Amniote
et12 <- rbind(et12, IUCN_empty12E)
## 1235 All mammals for presence = extant; origin = native, reintroduced, introduced, origin ##
Elton1235 <- anti_join(et, am1235u, by = "binomial")
# Species listed by Elton but not listed by IUCN
# nrow = 597
IUCN1235E <- anti_join(am1235u, et, by = "binomial")
# IUCN species not listed in Elton
# nrow = 432
et1235 <- et[!(et$binomial %in% c(as.vector(Elton1235$binomial))),]
# removed species listed by Elton but not listed by IUCN
# nrow = 4803
# create empty dataframe to match trait database columns
IUCN_empty1235E <- data.frame(matrix(NA, nrow = nrow(IUCN1235E), ncol = ncol(Elton1235)))
colnames(IUCN_empty1235E) <- colnames(Elton1235)
IUCN_empty1235E$binomial <- IUCN1235E$binomial
# combine trait database with empty values for species listed by the IUCN but not listed by Amniote
et1235 <- rbind(et1235, IUCN_empty1235E)
head(et1235)
md <- read.csv("MammalDIET_V1.0.csv")
nrow(md)
head(md)
########### Amniote - mammals ####################
## read in Amniote trait database
amn <- read.csv("Amniote_Database_Aug_2015.csv")
# nrow = 21322
# create new column with full scientific name
amn <- mutate(amn, binomial = paste(genus, species, sep = " ")) # name as binomial to match species tables
amn <- amn2[c(1:7,37,8:36)] # reorder columns to move binomial from the end
amn <- amn[c(1:7,37,8:36)] # reorder columns to move binomial from the end
head(amn)
head(md)
md <- mutate(md, binomial = paste(Genus, Species, sep = " ")) # name as binomial to match species tables
head(md)
ncol(md)
md <- md[c(1:5,31,6:30)] # reorder columns to move binomial from the end
head(md)
md <- arrange(md, binomial)
# order data by binomial A-Z
head(md)
########### MammalDiet ####################
## read in MammalDiet 1.0 trait database
md <- read.csv("MammalDIET_V1.0.csv")
# nrow = 5364
# create new column with full scientific name
md <- mutate(md, binomial = paste(Genus, Species, sep = " ")) # name as binomial to match species tables
md <- md[c(1:5,31,6:30)] # reorder columns to move binomial from the end
md <- arrange(md, binomial)
# order data by binomial A-Z
MamDIET12 <- anti_join(md, am12u, by = "binomial")
# Species listed by MammakDIET but not listed by IUCN
# nrow = 599
nrow(MamDIET12)
IUCN12M <- anti_join(am12u, md, by = "binomial")
# IUCN species not listed in MammalDIET
# nrow = 432
nrow(IUCN12M)
MDIET12 <- anti_join(md, am12u, by = "binomial")
# Species listed by MammalDIET but not listed by IUCN
# nrow = 246
IUCN12M <- anti_join(am12u, md, by = "binomial")
# IUCN species not listed in MammalDIET
# nrow = 115
md12 <- md[!(md$binomial %in% c(as.vector(MDIET12$binomial))),]
# removed species listed by MammalDIET but not listed by IUCN
# nrow = 4801
nrow(md12)
# create empty dataframe to match trait database columns
IUCN_empty12M <- data.frame(matrix(NA, nrow = nrow(IUCN12M), ncol = ncol(MDIET12)))
colnames(IUCN_empty12M) <- colnames(MDIET12)
IUCN_empty12M$binomial <- IUCN12M$binomial
# combine trait database with empty values for species listed by the IUCN but not listed by Amniote
md12 <- rbind(md12, IUCN_empty12M)
MDIET1235 <- anti_join(md, am1235u, by = "binomial")
# Species listed by MammalDIET but not listed by IUCN
# nrow = 597
nrow(MDIET1235)
MDIET1235 <- anti_join(md, am1235u, by = "binomial")
# Species listed by MammalDIET but not listed by IUCN
# nrow = 244
IUCN1235M <- anti_join(am1235u, md, by = "binomial")
# IUCN species not listed in MammalDIET
nrow(IUCN1235M)
md1235 <- md[!(md$binomial %in% c(as.vector(MDIET1235$binomial))),]
# removed species listed by MammalDIET but not listed by IUCN
# nrow = 4803
nrow(md1235)
# create empty dataframe to match trait database columns
IUCN_empty1235M <- data.frame(matrix(NA, nrow = nrow(IUCN1235M), ncol = ncol(MDIET1235)))
colnames(IUCN_empty1235M) <- colnames(MDIET1235)
IUCN_empty1235M$binomial <- IUCN1235M$binomial
# -------------------------------------------------------------------------------------
## Name: trait_data.R
## Description: Code to set up trait data for all mammal species,
##              identifies taxonomic matches and mismatches for
##              species data (IUCN) compared to the trait data
##              (PanTHERIA, Amniote, EltonTraits, MammalDIET)
## Author: R.S.C. Cooke, R.S.Cooke@soton.ac.uk
## Date: May 2016 -
## Outputs: PanTHERIA1235.csv, PanTHERIA12.csv, IUCN1235P.csv, IUCN12P.csv,
##          ALL_Mammals_1235_traits_PanTHERIA.csv, ALL_Mammals_12_traits_PanTHERIA.csv,
##          Amniote1235_M.csv, Amniote12_M.csv, IUCN1235A_M.csv, IUCN12A_M.csv,
##          ALL_Mammals_1235_traits_Amniote.csv, ALL_Mammals_12_traits_Amniote.csv,
##          Elton1235_M.csv, Elton12_M.csv, IUCN1235E_M.csv, IUCN12E_M.csv,
##          ALL_Mammals_1235_traits_Elton.csv, ALL_Mammals_12_traits_Elton.csv,
##          MDIET1235.csv, MDIET12.csv, IUCN1235M.csv, IUCN12M.csv,
##          ALL_Mammals_1235_traits_MammalDIET.csv, ALL_Mammals_12_traits_MammalDIET.csv
## -------------------------------------------------------------------------------------
# Set up required packages
if (!require("pacman")) install.packages("pacman")
pacman::p_load(dplyr)
# dplyr: used to compare two data frames, combine species names # calls: anti_join, mutate
## Read in species unique lists
am12u <- read.csv("ALL_Mammals_1_2_unique.csv")
# All mammals for presence = extant; origin = native, reintroduced
# nrow = 5233
am1235u <- read.csv("ALL_Mammals_1_2_3_5_unique.csv")
# All mammals for presence = extant; origin = native, reintroduced, introduced, origin uncertain
# nrow = 5235
### Perform code for each trait data set: PanTHERIA, Amniote, EltonTraits, MammalDIET
######## PanTHERIA ##############
## read in PanTHERIA trait database
pan <- read.csv("PanTHERIA_1-0_WR05_Aug2008.csv")
# nrow = 5416
colnames(pan)[5] <- "binomial"
# set column MSW05_Binomial to binomial to match species tables
pan <- arrange(pan, binomial)
# order data by binomial A-Z
## 12 All mammals for presence = extant; origin = native, reintroduced ##
PanTHERIA12 <- anti_join(pan, am12u, by = "binomial") # Fine to ignore Warning message: In anti_join_impl(x, y, by$x, by$y) : joining factors with different levels, coercing to character vector
# Species listed by PanTHERIA but not listed by IUCN
# nrow = 614
IUCN12P <- anti_join(am12u, pan, by = "binomial")
# IUCN species not listed in PanTHERIA
# nrow = 431
pan12 <- pan[!(pan$binomial %in% c(as.vector(PanTHERIA12$binomial))),]
# removed species listed by PanTHERIA but not listed by IUCN
# nrow = 4802
# create empty dataframe to match trait database columns
IUCN_empty12P <- data.frame(matrix(NA, nrow = nrow(IUCN12P), ncol = ncol(PanTHERIA12)))
colnames(IUCN_empty12P) <- colnames(PanTHERIA12)
IUCN_empty12P$binomial <- IUCN12P$binomial
# combine trait database with empty values for species listed by the IUCN but not listed by PanTHERIA
pan12 <- rbind(pan12, IUCN_empty12P)
## 1235 All mammals for presence = extant; origin = native, reintroduced, introduced, origin ##
PanTHERIA1235 <- anti_join(pan, am1235u, by = "binomial")
# Species listed by PanTHERIA but not listed by IUCN
# nrow = 612
IUCN1235P <- anti_join(am1235u, pan, by = "binomial")
# IUCN species not listed in PanTHERIA
# nrow = 431
pan1235 <- pan[!(pan$binomial %in% c(as.vector(PanTHERIA1235$binomial))),]
# removed species listed by PanTHERIA but not listed by IUCN
# nrow = 4804
# create empty dataframe to match trait database columns
IUCN_empty1235P <- data.frame(matrix(NA, nrow = nrow(IUCN1235P), ncol = ncol(PanTHERIA1235)))
colnames(IUCN_empty1235P) <- colnames(PanTHERIA1235)
IUCN_empty1235P$binomial <- IUCN1235P$binomial
# combine trait database with empty values for species listed by the IUCN but not listed by PanTHERIA
pan1235 <- rbind(pan1235, IUCN_empty1235P)
write.table(PanTHERIA1235, "~/R/Functional_integrity/PanTHERIA1235.csv", sep=",")
write.table(PanTHERIA12, "~/R/Functional_integrity/PanTHERIA12.csv", sep=",")
write.table(IUCN1235P, "~/R/Functional_integrity/IUCN1235P.csv", sep=",")
write.table(IUCN12P, "~/R/Functional_integrity/IUCN12P.csv", sep=",")
write.table(pan1235, "~/R/Functional_integrity/ALL_Mammals_1235_traits_PanTHERIA.csv", sep=",")
write.table(pan12, "~/R/Functional_integrity/ALL_Mammals_12_traits_PanTHERIA.csv", sep=",")
########### Amniote - mammals ####################
## read in Amniote trait database
amn <- read.csv("Amniote_Database_Aug_2015.csv")
# nrow = 21322
# create new column with full scientific name
amn <- mutate(amn, binomial = paste(genus, species, sep = " ")) # name as binomial to match species tables
amn <- amn[c(1:7,37,8:36)] # reorder columns to move binomial from the end
# subset just for mammals
amn <- amn[amn$class == "Mammalia",]
# nrow = 4953
amn <- arrange(amn, binomial)
# order data by binomial A-Z
## 12 All mammals for presence = extant; origin = native, reintroduced ##
Amniote12 <- anti_join(amn, am12u, by = "binomial")
# Species listed by Amniote but not listed by IUCN
# nrow = 514
IUCN12A <- anti_join(am12u, amn, by = "binomial")
# IUCN species not listed in Amniote
# nrow = 794
amn12 <- amn[!(amn$binomial %in% c(as.vector(Amniote12$binomial))),]
# removed species listed by Amniote but not listed by IUCN
# nrow = 4439
# create empty dataframe to match trait database columns
IUCN_empty12A <- data.frame(matrix(NA, nrow = nrow(IUCN12A), ncol = ncol(Amniote12)))
colnames(IUCN_empty12A) <- colnames(Amniote12)
IUCN_empty12A$binomial <- IUCN12A$binomial
# combine trait database with empty values for species listed by the IUCN but not listed by Amniote
amn12 <- rbind(amn12, IUCN_empty12A)
## 1235 All mammals for presence = extant; origin = native, reintroduced, introduced, origin ##
Amniote1235 <- anti_join(amn, am1235u, by = "binomial")
# Species listed by Amniote but not listed by IUCN
# nrow = 512
IUCN1235A <- anti_join(am1235u, amn, by = "binomial")
# IUCN species not listed in Amniote
# nrow = 794
amn1235 <- amn[!(amn$binomial %in% c(as.vector(Amniote1235$binomial))),]
# removed species listed by Amniote but not listed by IUCN
# nrow = 4441
# create empty dataframe to match trait database columns
IUCN_empty1235A <- data.frame(matrix(NA, nrow = nrow(IUCN1235A), ncol = ncol(Amniote1235)))
colnames(IUCN_empty1235A) <- colnames(Amniote1235)
IUCN_empty1235A$binomial <- IUCN1235A$binomial
# combine trait database with empty values for species listed by the IUCN but not listed by Amniote
amn1235 <- rbind(amn1235, IUCN_empty1235A)
write.table(Amniote1235, "~/R/Functional_integrity/Amniote1235_M.csv", sep=",") # Species listed by Amniote[Mammals] but not listed by IUCN 1235
write.table(Amniote12, "~/R/Functional_integrity/Amniote12_M.csv", sep=",") # Species listed by Amniote[Mammals] but not listed by IUCN 12
write.table(IUCN1235A, "~/R/Functional_integrity/IUCN1235A_M.csv", sep=",") # Species listed by IUCN 1235 but not listed by Amniote[Mammals]
write.table(IUCN12A, "~/R/Functional_integrity/IUCN12A_M.csv", sep=",") # Species listed by IUCN 12 but not listed by Amniote[Mammals]
write.table(amn1235, "~/R/Functional_integrity/ALL_Mammals_1235_traits_Amniote.csv", sep=",") # Amniote[Mammals] trait data for all IUCN 1235 species
write.table(amn12, "~/R/Functional_integrity/ALL_Mammals_12_traits_Amniote.csv", sep=",") # Amniote[Mammals] trait data for all IUCN 12 species
########### EltonTraits 1.0  - mammals ####################
## read in Elton Traits 1.0 database
et <- read.csv("MamFuncDat.csv")
# nrow = 5400
colnames(et)[3] <- "binomial"
# set column Scientific to binomial to match species tables
et <- arrange(et, binomial)
# order data by binomial A-Z
## 12 All mammals for presence = extant; origin = native, reintroduced ##
Elton12 <- anti_join(et, am12u, by = "binomial")
# Species listed by Elton but not listed by IUCN
# nrow = 599
IUCN12E <- anti_join(am12u, et, by = "binomial")
# IUCN species not listed in Elton
# nrow = 432
et12 <- et[!(et$binomial %in% c(as.vector(Elton12$binomial))),]
# removed species listed by Elton but not listed by IUCN
# nrow = 4801
# create empty dataframe to match trait database columns
IUCN_empty12E <- data.frame(matrix(NA, nrow = nrow(IUCN12E), ncol = ncol(Elton12)))
colnames(IUCN_empty12E) <- colnames(Elton12)
IUCN_empty12E$binomial <- IUCN12E$binomial
# combine trait database with empty values for species listed by the IUCN but not listed by EltonTraits
et12 <- rbind(et12, IUCN_empty12E)
## 1235 All mammals for presence = extant; origin = native, reintroduced, introduced, origin ##
Elton1235 <- anti_join(et, am1235u, by = "binomial")
# Species listed by Elton but not listed by IUCN
# nrow = 597
IUCN1235E <- anti_join(am1235u, et, by = "binomial")
# IUCN species not listed in Elton
# nrow = 432
et1235 <- et[!(et$binomial %in% c(as.vector(Elton1235$binomial))),]
# removed species listed by Elton but not listed by IUCN
# nrow = 4803
# create empty dataframe to match trait database columns
IUCN_empty1235E <- data.frame(matrix(NA, nrow = nrow(IUCN1235E), ncol = ncol(Elton1235)))
colnames(IUCN_empty1235E) <- colnames(Elton1235)
IUCN_empty1235E$binomial <- IUCN1235E$binomial
# combine trait database with empty values for species listed by the IUCN but not listed by EltonTraits
et1235 <- rbind(et1235, IUCN_empty1235E)
write.table(Elton1235, "~/R/Functional_integrity/Elton1235_M.csv", sep=",") # Species listed by EltonTraits[Mammals] but not listed by IUCN 1235
write.table(Elton12, "~/R/Functional_integrity/Elton12_M.csv", sep=",") # Species listed by EltonTraits[Mammals] but not listed by IUCN 12
write.table(IUCN1235E, "~/R/Functional_integrity/IUCN1235E_M.csv", sep=",") # Species listed by IUCN 1235 but not listed by EltonTraits[Mammals]
write.table(IUCN12E, "~/R/Functional_integrity/IUCN12E_M.csv", sep=",") # Species listed by IUCN 12 but not listed by EltonTraits[Mammals]
write.table(et1235, "~/R/Functional_integrity/ALL_Mammals_1235_traits_Elton.csv", sep=",") # EltonTraits[Mammals] trait data for all IUCN 1235 species
write.table(et12, "~/R/Functional_integrity/ALL_Mammals_12_traits_Elton.csv", sep=",") # EltonTraits[Mammals] trait data for all IUCN 12 species
########### MammalDiet ####################
## read in MammalDiet 1.0 trait database
md <- read.csv("MammalDIET_V1.0.csv")
# nrow = 5364
# create new column with full scientific name
md <- mutate(md, binomial = paste(Genus, Species, sep = " ")) # name as binomial to match species tables
md <- md[c(1:5,31,6:30)] # reorder columns to move binomial from the end
md <- arrange(md, binomial)
# order data by binomial A-Z
## 12 All mammals for presence = extant; origin = native, reintroduced ##
MDIET12 <- anti_join(md, am12u, by = "binomial")
# Species listed by MammalDIET but not listed by IUCN
# nrow = 246
IUCN12M <- anti_join(am12u, md, by = "binomial")
# IUCN species not listed in MammalDIET
# nrow = 115
md12 <- md[!(md$binomial %in% c(as.vector(MDIET12$binomial))),]
# removed species listed by MammalDIET but not listed by IUCN
# nrow = 5118
# create empty dataframe to match trait database columns
IUCN_empty12M <- data.frame(matrix(NA, nrow = nrow(IUCN12M), ncol = ncol(MDIET12)))
colnames(IUCN_empty12M) <- colnames(MDIET12)
IUCN_empty12M$binomial <- IUCN12M$binomial
# combine trait database with empty values for species listed by the IUCN but not listed by MammalDIET
md12 <- rbind(md12, IUCN_empty12M)
## 1235 All mammals for presence = extant; origin = native, reintroduced, introduced, origin ##
MDIET1235 <- anti_join(md, am1235u, by = "binomial")
# Species listed by MammalDIET but not listed by IUCN
# nrow = 244
IUCN1235M <- anti_join(am1235u, md, by = "binomial")
# IUCN species not listed in MammalDIET
# nrow = 115
md1235 <- md[!(md$binomial %in% c(as.vector(MDIET1235$binomial))),]
# removed species listed by MammalDIET but not listed by IUCN
# nrow = 5120
# create empty dataframe to match trait database columns
IUCN_empty1235M <- data.frame(matrix(NA, nrow = nrow(IUCN1235M), ncol = ncol(MDIET1235)))
colnames(IUCN_empty1235M) <- colnames(MDIET1235)
IUCN_empty1235M$binomial <- IUCN1235M$binomial
# combine trait database with empty values for species listed by the IUCN but not listed by MammalDIET
md1235 <- rbind(md1235, IUCN_empty1235M)
write.table(MDIET1235, "~/R/Functional_integrity/MDIET1235.csv", sep=",") # Species listed by MammalDIET but not listed by IUCN 1235
write.table(MDIET12, "~/R/Functional_integrity/MDIET12.csv", sep=",") # Species listed by MammalDIET but not listed by IUCN 12
write.table(IUCN1235M, "~/R/Functional_integrity/IUCN1235M.csv", sep=",") # Species listed by IUCN 1235 but not listed by MammalDIET
write.table(IUCN12M, "~/R/Functional_integrity/IUCN12M.csv", sep=",") # Species listed by IUCN 12 but not listed by MammalDIET
write.table(md1235, "~/R/Functional_integrity/ALL_Mammals_1235_traits_MammalDIET.csv", sep=",") # MammalDIET trait data for all IUCN 1235 species
write.table(md12, "~/R/Functional_integrity/ALL_Mammals_12_traits_MammalDIET.csv", sep=",") # MammalDIET trait data for all IUCN 12 species
# -------------------------------------------------------------------------------------
## Name: trait_data.R
## Description: Code to set up trait data for all mammal species,
##              identifies taxonomic matches and mismatches for
##              species data (IUCN) compared to the trait data
##              (PanTHERIA, Amniote, EltonTraits, MammalDIET)
## Author: R.S.C. Cooke, R.S.Cooke@soton.ac.uk
## Date: May 2016 -
## Outputs: PanTHERIA1235.csv, PanTHERIA12.csv, IUCN1235P.csv, IUCN12P.csv,
##          ALL_Mammals_1235_traits_PanTHERIA.csv, ALL_Mammals_12_traits_PanTHERIA.csv,
##          Amniote1235_M.csv, Amniote12_M.csv, IUCN1235A_M.csv, IUCN12A_M.csv,
##          ALL_Mammals_1235_traits_Amniote.csv, ALL_Mammals_12_traits_Amniote.csv,
##          Elton1235_M.csv, Elton12_M.csv, IUCN1235E_M.csv, IUCN12E_M.csv,
##          ALL_Mammals_1235_traits_Elton.csv, ALL_Mammals_12_traits_Elton.csv,
##          MDIET1235.csv, MDIET12.csv, IUCN1235M.csv, IUCN12M.csv,
##          ALL_Mammals_1235_traits_MammalDIET.csv, ALL_Mammals_12_traits_MammalDIET.csv
## -------------------------------------------------------------------------------------
# Set up required packages
if (!require("pacman")) install.packages("pacman")
pacman::p_load(dplyr)
# dplyr: used to compare two data frames, combine species names # calls: anti_join, mutate
## Read in species unique lists
am12u <- read.csv("ALL_Mammals_1_2_unique.csv")
# All mammals for presence = extant; origin = native, reintroduced
# nrow = 5233
am1235u <- read.csv("ALL_Mammals_1_2_3_5_unique.csv")
# All mammals for presence = extant; origin = native, reintroduced, introduced, origin uncertain
# nrow = 5235
### Perform code for each trait data set: PanTHERIA, Amniote, EltonTraits, MammalDIET
######## PanTHERIA ##############
## read in PanTHERIA trait database
pan <- read.csv("PanTHERIA_1-0_WR05_Aug2008.csv")
# nrow = 5416
colnames(pan)[5] <- "binomial"
# set column MSW05_Binomial to binomial to match species tables
pan <- arrange(pan, binomial)
# order data by binomial A-Z
## 12 All mammals for presence = extant; origin = native, reintroduced ##
PanTHERIA12 <- anti_join(pan, am12u, by = "binomial") # Fine to ignore Warning message: In anti_join_impl(x, y, by$x, by$y) : joining factors with different levels, coercing to character vector
# Species listed by PanTHERIA but not listed by IUCN
# nrow = 614
IUCN12P <- anti_join(am12u, pan, by = "binomial")
# IUCN species not listed in PanTHERIA
# nrow = 431
pan12 <- pan[!(pan$binomial %in% c(as.vector(PanTHERIA12$binomial))),]
# removed species listed by PanTHERIA but not listed by IUCN
# nrow = 4802
# create empty dataframe to match trait database columns
IUCN_empty12P <- data.frame(matrix(NA, nrow = nrow(IUCN12P), ncol = ncol(PanTHERIA12)))
colnames(IUCN_empty12P) <- colnames(PanTHERIA12)
IUCN_empty12P$binomial <- IUCN12P$binomial
# combine trait database with empty values for species listed by the IUCN but not listed by PanTHERIA
pan12 <- rbind(pan12, IUCN_empty12P)
## 1235 All mammals for presence = extant; origin = native, reintroduced, introduced, origin ##
PanTHERIA1235 <- anti_join(pan, am1235u, by = "binomial")
# Species listed by PanTHERIA but not listed by IUCN
# nrow = 612
IUCN1235P <- anti_join(am1235u, pan, by = "binomial")
# IUCN species not listed in PanTHERIA
# nrow = 431
pan1235 <- pan[!(pan$binomial %in% c(as.vector(PanTHERIA1235$binomial))),]
# removed species listed by PanTHERIA but not listed by IUCN
# nrow = 4804
# create empty dataframe to match trait database columns
IUCN_empty1235P <- data.frame(matrix(NA, nrow = nrow(IUCN1235P), ncol = ncol(PanTHERIA1235)))
colnames(IUCN_empty1235P) <- colnames(PanTHERIA1235)
IUCN_empty1235P$binomial <- IUCN1235P$binomial
# combine trait database with empty values for species listed by the IUCN but not listed by PanTHERIA
pan1235 <- rbind(pan1235, IUCN_empty1235P)
# Set up required packages
if (!require("pacman")) install.packages("pacman")
pacman::p_load(dplyr, taxize)
splist <- c("annona cherimola", 'annona muricata', "quercus robur")
get_tsn(searchterm = splist, searchtype = "scientific")
spp <- c("Acomys chudeaui")
iucn_getname(spp)
spp <- c("Acomys chudeaui", "Acomys cahirinus")
iucn_getname(spp)
iucn_getname(name = "Cyanistes caeruleus")
iucn_getname(name = "Panthera uncia")
iucn_getname(name = "Abies")
iucn_getname(name = "Abronia pinsapo")
iucn_getname(name = "Acacia allenii")
t <- iucn_getname(name = "Cyanistes caeruleus")
t
iucn_getname
spp <- c("Acomys chudeaui", "Acomys cahirinus")
tsn <- get_tsn(spp, accepted = TRUE)
tsn
lapply(tsn, itis_acceptname)
spp <- c("Acomys chudeaui", "Acomys cahirinus")
tsn <- get_tsn(spp, accepted = FALSE)
spp <- c("Acomys chudeaui", "Acomys cahirinus")
tsn <- gnr_resolve(names = spp)
tsn
spp <- c("Aegialomys galapagoensis")
tsn <- gnr_resolve(names = spp)
tsn
spp <- c("Oryzomys galapagoensis")
tsn <- gnr_resolve(names = spp)
tsn
tsn <- searchbyscientificname(spp)
tsn
lapply(tsn, itis_acceptname)
spp <- c("Acomys cahirinus")
tsn <- searchbyscientificname(spp)
tsn
lapply(tsn, itis_acceptname)
lapply(tsn[1,], itis_acceptname)
lapply(tsn[2,], itis_acceptname)
lapply(tsn[3,], itis_acceptname)
spp <- c("Acomys chudeaui")
tsn <- searchbyscientificname(spp)
tsn
lapply(tsn, itis_acceptname)
eol_search(spp)
spp <- c("Oryzomys galapagoensis")
eol_search(spp)
get_ids(spp)
get_ids(spp, db = c("iucn"))
synonyms(spp)
gni_details(spp)
gni_search(spp)
itis_name(spp)
tax_name(spp)
tax_name(spp, get = "species")
synonyms(spp)
synonyms(spp, db = "itis")
spp <- c("Acomys chudeaui", "Acomys cahirinus")
synonyms(spp, db = "itis")
synonyms(spp, db = "itis")
spp <- c("Acomys chudeaui")
synonyms(spp, db = "itis")
synonyms("Puma concolor", db='col')
synonyms(PanTHERIA1235, db = "itis")
PanTHERIA1235
View(PanTHERIA1235)
synonyms(PanTHERIA1235$binomial, db = "itis")
PanTHERIA1235$binomial[1:10]
PanTHERIA1235_syn <- synonyms(PanTHERIA1235$binomial[1:10], db = "itis")
PanTHERIA1235_syn
IUCN1235P$binomial[1:10]
IUCN1235P_syn <- synonyms(IUCN1235P$binomial[1:10], db = "itis")
IUCN1235P_syn
IUCN1235P_syn <- synonyms(IUCN1235P$binomial[1:10], db = "col")
IUCN1235P_syn
Syn1235P <- synonyms(IUCN1235P$binomial[1:10], db = "itis")
Syn1235P
unlist(Syn1235P)
Syn1235P$`Aegialomys galapagoensis`
Syn1235P$`Aegialomys galapagoensis`$syn_name
nrow(IUCN1235P)
nrow(Syn1235P)
nrow(Syn1235P$`Aegialomys galapagoensis`$syn_name)
nrow(Syn1235P$`Aegialomys galapagoensis`)
eol_search(IUCN1235P$binomial[1:10])
eol_search(IUCN1235P$binomial[1])
eol_search(IUCN1235P$binomial[2])
eol_search(IUCN1235P$binomial[3])
Syn1235P[syn_name]
Syn1235P[["Alouatta arctoidea"]]
rbind(Syn1235P[["Alouatta arctoidea"]], Syn1235P[["Alouatta ululata"]]
)
data.table_rbindlist = as.data.frame(data.table::rbindlist(Syn1235P))
data.table_rbindlist = as.data.frame(data.table::rbindlist(Syn1235P[1:4]))
data.table_rbindlist
Syn1235P <- synonyms(IUCN1235P$binomial[1:10], db = "itis")
tsn <- gnr_resolve(names = IUCN1235P$binomial[1:10])
tsn
rbindlist = as.data.frame(data.table::rbindlist(Syn1235P[1:4]))
rbindlist
tsn <- get_tsn(names = IUCN1235P$binomial[1:10])
tsn <- get_tsn(searchterm = IUCN1235P$binomial[1:10])
tsn
rbindlist
duplicated(rbindlist)
duplicated(rbindlist$sub_tsn)
rbindlist$sub_tsn(duplicated(rbindlist$sub_tsn))
rbindlist$sub_tsn[duplicated(rbindlist$sub_tsn)]
table(rbindlist$sub_tsn)
as.data.frame(table(rbindlist$sub_tsn))
